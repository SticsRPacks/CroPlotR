# ensure function

    Code
      str(res)
    Output
      List of 3
       $ object :List of 3
        ..$ data        : tibble [28 x 56] (S3: tbl_df/tbl/data.frame)
        .. ..$ id               : chr [1:28] "solcanne" "solescourg" "solpatate" "solpois" ...
        .. ..$ type             : chr [1:28] "sols" "sols" "sols" "sols" ...
        .. ..$ argi             : num [1:28] 30.2 21 27 39 1 12.2 70 22 9.9 10.2 ...
        .. ..$ organic_N_conc   : num [1:28] 0.27 0.1 0.21 0.15 0.7 0.11 0.2 0.12 0.07 0.16 ...
        .. ..$ profhum          : num [1:28] 40 31 27 27 40 30 50 35 50 30 ...
        .. ..$ calc             : num [1:28] 0 0.7 3.7 0 0.82 0.6 0 1 9 65.3 ...
        .. ..$ pH               : num [1:28] 7 7 7 7 5.36 8.1 7 7 6.1 8.4 ...
        .. ..$ concseuil        : num [1:28] 0.2 0 0 0 0 0 0.2 0 0 0.05 ...
        .. ..$ albedo           : num [1:28] 0.17 0.2 0.28 0.28 0.05 0.22 0.17 0.2 0.25 0.28 ...
        .. ..$ q0               : num [1:28] 12 9 12 12 7.5 21 25 0 3.6 11.5 ...
        .. ..$ ruisolnu         : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        .. ..$ obstarac         : int [1:28] 200 155 120 60 200 150 200 200 200 90 ...
        .. ..$ pluiebat         : int [1:28] 50 50 50 50 50 50 50 50 50 50 ...
        .. ..$ mulchbat         : num [1:28] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 ...
        .. ..$ zesx             : int [1:28] 60 60 60 60 60 60 60 60 60 60 ...
        .. ..$ cfes             : int [1:28] 5 5 5 5 5 5 5 5 5 5 ...
        .. ..$ z0solnu          : num [1:28] 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01 ...
        .. ..$ csurNsol         : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        .. ..$ penterui         : num [1:28] 0.33 0.33 0.33 0.33 0.33 0.33 0.33 0.33 0.33 0.33 ...
        .. ..$ codecailloux     : int [1:28] 2 2 2 2 1 2 2 2 2 2 ...
        .. ..$ codemacropor     : int [1:28] 1 2 2 2 2 2 2 2 1 2 ...
        .. ..$ codefente        : int [1:28] 2 2 2 2 2 2 2 2 1 2 ...
        .. ..$ codrainage       : int [1:28] 2 2 2 2 2 2 2 2 2 2 ...
        .. ..$ profimper        : int [1:28] 10 10 10 10 10 10 10 10 10 10 ...
        .. ..$ ecartdrain       : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        .. ..$ ksol             : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        .. ..$ profdrain        : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        .. ..$ coderemontcap    : int [1:28] 2 2 2 2 2 2 2 2 2 2 ...
        .. ..$ capiljour        : int [1:28] 1 1 1 1 1 1 1 1 1 1 ...
        .. ..$ humcapil         : int [1:28] 10 10 10 10 10 10 10 10 15 10 ...
        .. ..$ codenitrif       : int [1:28] 2 2 2 2 2 2 2 2 2 2 ...
        .. ..$ codedenit        : int [1:28] 2 2 2 2 2 2 2 2 2 2 ...
        .. ..$ profdenit        : int [1:28] 20 20 20 20 20 20 20 20 20 20 ...
        .. ..$ vpotdenit        : int [1:28] 16 16 16 16 16 16 16 16 16 16 ...
        .. ..$ cailloux_1       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        .. ..$ cailloux_2       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        .. ..$ cailloux_3       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        .. ..$ cailloux_4       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        .. ..$ cailloux_5       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        .. ..$ typecailloux_1   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        .. ..$ typecailloux_2   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        .. ..$ typecailloux_3   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        .. ..$ typecailloux_4   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        .. ..$ typecailloux_5   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        .. ..$ infil_1          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        .. ..$ infil_2          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        .. ..$ infil_3          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        .. ..$ infil_4          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        .. ..$ infil_5          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        .. ..$ epd_1            : int [1:28] 10 10 10 10 10 10 10 10 20 10 ...
        .. ..$ epd_2            : int [1:28] 10 10 10 10 10 10 10 10 20 10 ...
        .. ..$ epd_3            : int [1:28] 10 10 10 10 10 10 10 10 20 10 ...
        .. ..$ epd_4            : int [1:28] 10 10 10 10 10 10 10 10 20 10 ...
        .. ..$ epd_5            : int [1:28] 10 10 10 10 10 10 10 10 20 1 ...
        .. ..$ depth            : int [1:28] 200 115 80 180 120 120 100 60 120 120 ...
        .. ..$ saturated_wtr_cap: num [1:28] 321.4 194.6 79.5 263.6 173 ...
        ..$ data_byLayer: tibble [140 x 7] (S3: tbl_df/tbl/data.frame)
        .. ..$ id                      : chr [1:140] "solcanne" "solcanne" "solcanne" "solcanne" ...
        .. ..$ layer                   : chr [1:140] "1" "2" "3" "4" ...
        .. ..$ layer_depth             : int [1:140] 20 20 20 20 20 30 30 30 30 30 ...
        .. ..$ layer_water_field_cap   : num [1:140] 46.8 46.4 48.5 50.1 50.1 22.4 22 21 22 21 ...
        .. ..$ layer_water_wilting_pt  : num [1:140] 26.2 27.4 29.1 25.5 25.5 13.3 11.8 11 9 9 ...
        .. ..$ layer_bulk_density_moist: num [1:140] 1.08 1.09 1.02 0.99 0.99 1.44 1.65 1.65 1.65 1.49 ...
        .. ..$ layer_saturated_wtr_cap : num [1:140] 44.5 41.4 39.6 48.7 48.7 ...
        ..$ dict        :List of 6
        .. ..$ id                      : chr "name"
        .. ..$ organic_N_conc          : chr "norg"
        .. ..$ layer_depth             : chr "epc"
        .. ..$ layer_water_field_cap   : chr "HCCF"
        .. ..$ layer_water_wilting_pt  : chr "HMINF"
        .. ..$ layer_bulk_density_moist: chr "DAF"
        ..- attr(*, "class")= chr "cropr_input"
       $ missing: NULL
       $ success: logi TRUE

# ensure_wrapper function

    Code
      str(soil)
    Output
      List of 3
       $ data        : tibble [28 x 56] (S3: tbl_df/tbl/data.frame)
        ..$ id               : chr [1:28] "solcanne" "solescourg" "solpatate" "solpois" ...
        ..$ type             : chr [1:28] "sols" "sols" "sols" "sols" ...
        ..$ argi             : num [1:28] 30.2 21 27 39 1 12.2 70 22 9.9 10.2 ...
        ..$ organic_N_conc   : num [1:28] 0.27 0.1 0.21 0.15 0.7 0.11 0.2 0.12 0.07 0.16 ...
        ..$ profhum          : num [1:28] 40 31 27 27 40 30 50 35 50 30 ...
        ..$ calc             : num [1:28] 0 0.7 3.7 0 0.82 0.6 0 1 9 65.3 ...
        ..$ pH               : num [1:28] 7 7 7 7 5.36 8.1 7 7 6.1 8.4 ...
        ..$ concseuil        : num [1:28] 0.2 0 0 0 0 0 0.2 0 0 0.05 ...
        ..$ albedo           : num [1:28] 0.17 0.2 0.28 0.28 0.05 0.22 0.17 0.2 0.25 0.28 ...
        ..$ q0               : num [1:28] 12 9 12 12 7.5 21 25 0 3.6 11.5 ...
        ..$ ruisolnu         : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        ..$ obstarac         : int [1:28] 200 155 120 60 200 150 200 200 200 90 ...
        ..$ pluiebat         : int [1:28] 50 50 50 50 50 50 50 50 50 50 ...
        ..$ mulchbat         : num [1:28] 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 0.5 ...
        ..$ zesx             : int [1:28] 60 60 60 60 60 60 60 60 60 60 ...
        ..$ cfes             : int [1:28] 5 5 5 5 5 5 5 5 5 5 ...
        ..$ z0solnu          : num [1:28] 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01 ...
        ..$ csurNsol         : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        ..$ penterui         : num [1:28] 0.33 0.33 0.33 0.33 0.33 0.33 0.33 0.33 0.33 0.33 ...
        ..$ codecailloux     : int [1:28] 2 2 2 2 1 2 2 2 2 2 ...
        ..$ codemacropor     : int [1:28] 1 2 2 2 2 2 2 2 1 2 ...
        ..$ codefente        : int [1:28] 2 2 2 2 2 2 2 2 1 2 ...
        ..$ codrainage       : int [1:28] 2 2 2 2 2 2 2 2 2 2 ...
        ..$ profimper        : int [1:28] 10 10 10 10 10 10 10 10 10 10 ...
        ..$ ecartdrain       : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        ..$ ksol             : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        ..$ profdrain        : int [1:28] 0 0 0 0 0 0 0 0 0 0 ...
        ..$ coderemontcap    : int [1:28] 2 2 2 2 2 2 2 2 2 2 ...
        ..$ capiljour        : int [1:28] 1 1 1 1 1 1 1 1 1 1 ...
        ..$ humcapil         : int [1:28] 10 10 10 10 10 10 10 10 15 10 ...
        ..$ codenitrif       : int [1:28] 2 2 2 2 2 2 2 2 2 2 ...
        ..$ codedenit        : int [1:28] 2 2 2 2 2 2 2 2 2 2 ...
        ..$ profdenit        : int [1:28] 20 20 20 20 20 20 20 20 20 20 ...
        ..$ vpotdenit        : int [1:28] 16 16 16 16 16 16 16 16 16 16 ...
        ..$ cailloux_1       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        ..$ cailloux_2       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        ..$ cailloux_3       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        ..$ cailloux_4       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        ..$ cailloux_5       : num [1:28] 0 0 0 0 0.73 0 0 0 0 0 ...
        ..$ typecailloux_1   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        ..$ typecailloux_2   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        ..$ typecailloux_3   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        ..$ typecailloux_4   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        ..$ typecailloux_5   : int [1:28] 1 1 1 1 10 1 1 1 1 1 ...
        ..$ infil_1          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        ..$ infil_2          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        ..$ infil_3          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        ..$ infil_4          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        ..$ infil_5          : int [1:28] 50 50 50 50 0 50 50 50 50 50 ...
        ..$ epd_1            : int [1:28] 10 10 10 10 10 10 10 10 20 10 ...
        ..$ epd_2            : int [1:28] 10 10 10 10 10 10 10 10 20 10 ...
        ..$ epd_3            : int [1:28] 10 10 10 10 10 10 10 10 20 10 ...
        ..$ epd_4            : int [1:28] 10 10 10 10 10 10 10 10 20 10 ...
        ..$ epd_5            : int [1:28] 10 10 10 10 10 10 10 10 20 1 ...
        ..$ depth            : int [1:28] 200 115 80 180 120 120 100 60 120 120 ...
        ..$ saturated_wtr_cap: num [1:28] 321.4 194.6 79.5 263.6 173 ...
       $ data_byLayer: tibble [140 x 7] (S3: tbl_df/tbl/data.frame)
        ..$ id                      : chr [1:140] "solcanne" "solcanne" "solcanne" "solcanne" ...
        ..$ layer                   : chr [1:140] "1" "2" "3" "4" ...
        ..$ layer_depth             : int [1:140] 20 20 20 20 20 30 30 30 30 30 ...
        ..$ layer_water_field_cap   : num [1:140] 46.8 46.4 48.5 50.1 50.1 22.4 22 21 22 21 ...
        ..$ layer_water_wilting_pt  : num [1:140] 26.2 27.4 29.1 25.5 25.5 13.3 11.8 11 9 9 ...
        ..$ layer_bulk_density_moist: num [1:140] 1.08 1.09 1.02 0.99 0.99 1.44 1.65 1.65 1.65 1.49 ...
        ..$ layer_saturated_wtr_cap : num [1:140] 44.5 41.4 39.6 48.7 48.7 ...
       $ dict        :List of 6
        ..$ id                      : chr "name"
        ..$ organic_N_conc          : chr "norg"
        ..$ layer_depth             : chr "epc"
        ..$ layer_water_field_cap   : chr "HCCF"
        ..$ layer_water_wilting_pt  : chr "HMINF"
        ..$ layer_bulk_density_moist: chr "DAF"
       - attr(*, "class")= chr "cropr_input"

# print_missingTree function

    Code
      cat(print_missingTree(lst))
    Output
        `A`
        AND `B`
      	OR  `C`
      		OR  `D`
      			OR  `E`
      		AND `F`
      		AND `G`
      			OR  `H`
      			AND `I`
        AND `J`
      	OR  `K`
        AND `L`
        AND `N`

# ensure_wrapper function failed

    Graph type `thickness.mswc.norg` requires the following parameters:
      `depth`
    	OR  `layer_depth`
      AND `saturated_wtr_cap`
    	OR  `layer_saturated_wtr_cap`
    		OR  `layer_depth`
    		AND `layer_bulk_density_moist`
    		AND `layer_water_field_cap`
    		AND `layer_water_wilting_pt`
      AND `organic_N_conc`

# expect_depth

    Code
      ensure_depth(soil)
    Output
      $object
      $object$data
        id depth
      1  A     3
      2  B     7
      
      $object$data_byLayer
        id layer_depth
      1  A           1
      2  A           2
      3  B           3
      4  B           4
      
      $object$dict
      list()
      
      
      $missing
      NULL
      
      $success
      [1] TRUE
      

# ensure_layer_saturated_wtr_cap

    Code
      ensure_layer_saturated_wtr_cap(soil)
    Output
      $object
      $object$data
      data frame with 0 columns and 0 rows
      
      $object$data_byLayer
        layer_depth layer_bulk_density_moist layer_water_field_cap
      1    8.966972                 9.082078             6.6079779
      2    2.655087                 2.016819             6.2911404
      3    3.721239                 8.983897             0.6178627
      4    5.728534                 9.446753             2.0597457
        layer_water_wilting_pt id layer_saturated_wtr_cap
      1               1.765568  A              39.4359793
      2               6.870228  A              -0.3100918
      3               3.841037  B             -10.7754679
      4               7.698414  B             -30.5142410
      
      $object$dict
      list()
      
      
      $missing
      NULL
      
      $success
      [1] TRUE
      

# ensure_saturated_wtr_cap

    Code
      ensure_saturated_wtr_cap(soil)
    Output
      $object
      $object$data
        id saturated_wtr_cap
      1  A         11.622059
      2  B          9.449773
      
      $object$data_byLayer
        layer_saturated_wtr_cap id
      1                8.966972  A
      2                2.655087  A
      3                3.721239  B
      4                5.728534  B
      
      $object$dict
      list()
      
      
      $missing
      NULL
      
      $success
      [1] TRUE
      

